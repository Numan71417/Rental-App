<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Display Image from API</title>
</head>
<body>
    <img id="image" src="" alt="Image" height="400px">
    
    <script>
        // Fetch image data from API
        fetch('http://localhost:5000/api/v1/users')
        .then(response => response.json())
        .then(data => {
            // Extract photo buffer data
            const bufferData = data[7].photo.data;
            console.log(data,bufferData)

            // Convert buffer data to base64
            const base64Image = arrayBufferToBase64(bufferData);

            // Set the image source
            document.getElementById('image').src = 'data:image/jpeg;base64,' + base64Image;
        })
        .catch(error => console.error('Error fetching image:', error));

        // Function to convert array buffer to base64
        function arrayBufferToBase64(buffer) {
            let binary = '';
            const bytes = new Uint8Array(buffer);
            const len = bytes.byteLength;
            for (let i = 0; i < len; i++) {
                binary += String.fromCharCode(bytes[i]);
            }
            return btoa(binary);
        }
    </script>
</body>
</html>
